---
import SendMail from "@/components/SendMail";
import Root from "@/layouts/Root.astro";
import { social } from "@/data/social";
import { siteConfig } from "@/config";

// JSON-LD for SEO

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "ContactPage",
  mainEntityOfPage: {
    "@type": "WebPage",
    name: "Contacto",
    description: "Página de contacto de Frankuxui, desarrollador front-end y diseñador UX/UI en Tarragona.",
    url: new URL(Astro.url.pathname, Astro.site).toString(),
    image: siteConfig.openGraph.image,
    publisher: {
      "@type": "Organization",
      name: siteConfig.alternateName,
      logo: {
        "@type": "ImageObject",
        url: siteConfig.logo,
      },
    },
  },
};
---

<Root>
  {jsonLd && <script type="application/ld+json" is:inline set:html={JSON.stringify(jsonLd)} />}
  <div class="w-full max-w-6xl mx-auto px-10">
    <header class="flex flex-col items-start gap-6 pt-10 sm:pt-20">
      <h1
        class="font-medium text-xl motion-safe:animate-text-reveal"
        style={{
          "--hero-text-reveal-opacity-step-0": 1,
          "--hero-text-reveal-x-step-0": 0,
          "--hero-text-reveal-y-step-0": "0px",
          "--hero-text-reveal-opacity-step-1": 1,
          "--hero-text-reveal-x-step-1": 0,
          "--hero-text-reveal-y-step-1": "0px",
          "--hero-text-reveal-opacity-step-2": 1,
          "--hero-text-reveal-x-step-2": 0,
          "--hero-text-reveal-y-step-2": "0px",
          "--hero-text-reveal-opacity-step-3": 1,
          "--hero-text-reveal-x-step-3": 0,
          "--hero-text-reveal-y-step-3": "0px",
        }}
      >
        Contácto
      </h1>
      <p
        class="text-left w-full leading-10 text-3xl sm:leading-12 sm:text-4xl font-normal motion-safe:animate-text-reveal"
        style={{
          "--hero-text-reveal-opacity-step-0": 0,
          "--hero-text-reveal-x-step-0": 0,
          "--hero-text-reveal-y-step-0": "25px",
          "--hero-text-reveal-opacity-step-1": 1,
          "--hero-text-reveal-x-step-1": 0,
          "--hero-text-reveal-y-step-1": "0px",
          "--hero-text-reveal-opacity-step-2": 1,
          "--hero-text-reveal-x-step-2": 0,
          "--hero-text-reveal-y-step-2": "0px",
          "--hero-text-reveal-opacity-step-3": 1,
          "--hero-text-reveal-x-step-3": 0,
          "--hero-text-reveal-y-step-3": "0px",
        }}
      >
        Si tienes alguna pregunta, proyecto en mente o simplemente deseas conectar, no dudes en enviarme un mensaje.
      </p>
      <a
        href="#send-mail"
        class="inline-flex items-center justify-center rounded-full uppercase font-roboto-mono font-medium border-2 border-transparent cursor-pointer disabled:pointer-events-none motion-safe:transition-colors motion-safe:duration-500 bg-primary text-primary-foreground hover:bg-primary-hover h-12 px-6 sm:px-8 text-sm sm:text-base flex-none motion-safe:animate-text-reveal"
        data-action="contact-send-mail"
        aria-label="Enviar mensaje"
        style={{
          "--hero-text-reveal-opacity-step-0": 0,
          "--hero-text-reveal-x-step-0": 0,
          "--hero-text-reveal-y-step-0": "25px",
          "--hero-text-reveal-opacity-step-1": 0,
          "--hero-text-reveal-x-step-1": 0,
          "--hero-text-reveal-y-step-1": "25px",
          "--hero-text-reveal-opacity-step-2": 1,
          "--hero-text-reveal-x-step-2": 0,
          "--hero-text-reveal-y-step-2": "0px",
          "--hero-text-reveal-opacity-step-3": 1,
          "--hero-text-reveal-x-step-3": 0,
          "--hero-text-reveal-y-step-3": "0px",
        }}
      >
        Enviar mensaje
      </a>
    </header>
  </div>
  <section class="py-20">
    <div class="w-full max-w-6xl mx-auto px-10">
      <div class="grid md:grid-cols-12 gap-8 lg:gap-12 xl:gap-20">
        <picture class="w-full md:col-span-4">
          <source src-set="./frankuxui_logo_poster.webp" type="image/webp" />
          <img src="./frankuxui_logo_poster.webp" alt="Contacto con Frankuxui" class="w-full object-contain rounded-2xl sm:animate-hero-reveal" />
        </picture>
        <div class="md:col-span-8 relative overflow-hidden w-full rounded-2xl bg-black">
          <div class="w-full p-10 sm:p-14 flex relative text-white">
            <blockquote class="z-10 text-lg font-medium text-white">
              <p class="mb-6 text-sm sm:text-lg">&quot;El verdadero signo de la inteligencia no es el conocimiento sino la imaginación.&quot;</p>
              <footer class="text-right">
                <cite class="text-sm sm:text-lg block font-semibold">Albert Einstein</cite>
              </footer>
            </blockquote>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="-mt-20 pt-40 py-20" id="send-mail">
    <div class="w-full max-w-6xl mx-auto px-10">
      <div class="grid md:grid-cols-12 items-start gap-10 lg:gap-16">
        <header class="md:col-span-5 grid gap-6">
          <span class="material-symbols-rounded material-symbols-2xl material-symbols-weight-300">mail</span>
          <h2 class="text-left w-full leading-10 text-3xl sm:leading-12 sm:text-4xl font-normal">Contáctame</h2>
          <p class="leading-9 text-2xl w-full">Responderé lo antes posible.</p>
          <p>Estoy disponible para cualquier consulta, propuesta o idea que quieras compartir.</p>
          <p class="text-sm">Normalmente respondo en menos de 24 horas.</p>
          <p class="text-sm">Si no ves respuesta, revisa tu bandeja de spam o correo no deseado.</p>
        </header>
        <section class="md:col-span-7">
          <SendMail client:load />
        </section>
      </div>
    </div>
  </section>

  <section class="py-40 sm:px-6 bg-foreground/2 border-t border-border">
    <div class="w-full max-w-6xl mx-auto px-10">
      <header class="flex flex-col items-start gap-6 w-full max-w-5xl">
        <picture class="w-full lg:max-w-xs">
          <source src-set="./frankuxui_logo_poster.webp" type="image/webp" />
          <img src="./frankuxui_logo_poster.webp" alt="Imagen del logotipo en tercera dimensión de Frankuxui" class="w-full object-contain rounded-2xl sm:animate-hero-reveal" />
        </picture>
        <h2 class="mt-10 text-left w-full leading-10 text-3xl sm:leading-12 sm:text-4xl font-normal">Descubre más sobre mis proyectos</h2>
        <p>
          Conoce más sobre mis proyectos a través de las diferentes plataformas donde comparto mi trabajo. Haz clic en los enlaces a continuación para ver más detalles y conocer de
          cerca mi proceso creativo y técnico.
        </p>
      </header>
      <ul class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-7 lg:grid-cols-8 gap-2 mt-10 place-items-start">
        {
          social.map((item, index) => (
            <li class="group relative inline-block">
              <div class="absolute z-[2] bottom-full left-1/2 -translate-x-1/2 inline-flex items-center justify-center h-8 px-3 text-xs rounded font-roboto-mono uppercase font-medium translate-y-6 motion-safe:transition-all motion-safe:duration-200 group-hover:-translate-y-1 opacity-0 group-hover:opacity-100 text-white bg-black dark:text-black dark:bg-white">
                {item.name}
              </div>
              <a
                href={item.url}
                target="_blank"
                aria-label={`Encuentrame en ${item.name}`}
                data-action={`social-${item.name}`}
                data-testid={`social-${item.name}`}
                class="overflow-hidden relative inline-flex items-center justify-center w-14 h-14 rounded-full text-foreground"
              >
                <span class="sr-only">{item.name}</span>
                <span class="relative z-[1] cursor-pointer text-4xl dark:text-white dark:group-hover:text-white" set:html={item.icon} />
              </a>
            </li>
          ))
        }
      </ul>
    </div>
  </section>
</Root>
