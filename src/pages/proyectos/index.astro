---
import Root from "@/layouts/Root.astro";
import type { Project } from "@/types/Project";
import { getProjects } from "@/utils/getProjects";

export const prerender = true;

const data: Project[] = await getProjects();
const title = "Proyectos personales | Frankuxui - Desarrollador Front-End y Diseñador UX/UI";
---

<Root title={title} description="Explora los proyectos personales de Frankuxui centrados en desarrollo web, diseño UI/UX y componentes reutilizables.">
  <header class="w-full max-w-6xl mx-auto px-10 grid gap-6 pt-10 sm:pt-20 text-balance" aria-labelledby="projects-heading">
    <h1
      id="projects-heading"
      class="font-medium text-xl motion-safe:animate-text-reveal"
      style={{
        "--hero-text-reveal-opacity-step-0": 1,
        "--hero-text-reveal-x-step-0": 0,
        "--hero-text-reveal-y-step-0": "0px",
        "--hero-text-reveal-opacity-step-1": 1,
        "--hero-text-reveal-x-step-1": 0,
        "--hero-text-reveal-y-step-1": "0px",
        "--hero-text-reveal-opacity-step-2": 1,
        "--hero-text-reveal-x-step-2": 0,
        "--hero-text-reveal-y-step-2": "0px",
        "--hero-text-reveal-opacity-step-3": 1,
        "--hero-text-reveal-x-step-3": 0,
        "--hero-text-reveal-y-step-3": "0px",
      }}
    >
      Proyectos
    </h1>
    <p
      class="text-left w-full leading-10 text-3xl font-normal motion-safe:animate-text-reveal"
      style={{
        "--hero-text-reveal-opacity-step-0": 0,
        "--hero-text-reveal-x-step-0": 0,
        "--hero-text-reveal-y-step-0": "25px",
        "--hero-text-reveal-opacity-step-1": 1,
        "--hero-text-reveal-x-step-1": 0,
        "--hero-text-reveal-y-step-1": "0px",
        "--hero-text-reveal-opacity-step-2": 1,
        "--hero-text-reveal-x-step-2": 0,
        "--hero-text-reveal-y-step-2": "0px",
        "--hero-text-reveal-opacity-step-3": 1,
        "--hero-text-reveal-x-step-3": 0,
        "--hero-text-reveal-y-step-3": "0px",
      }}
    >
      Descubre mis proyectos personales
    </p>
    <p
      class="text-xl motion-safe:animate-text-reveal"
      style={{
        "--hero-text-reveal-opacity-step-0": 0,
        "--hero-text-reveal-x-step-0": 0,
        "--hero-text-reveal-y-step-0": "25px",
        "--hero-text-reveal-opacity-step-1": 0,
        "--hero-text-reveal-x-step-1": 0,
        "--hero-text-reveal-y-step-1": "25px",
        "--hero-text-reveal-opacity-step-2": 1,
        "--hero-text-reveal-x-step-2": 0,
        "--hero-text-reveal-y-step-2": "0px",
        "--hero-text-reveal-opacity-step-3": 1,
        "--hero-text-reveal-x-step-3": 0,
        "--hero-text-reveal-y-step-3": "0px",
      }}
    >
      Estos trabajos reflejan mi pasión por el diseño innovador y mis habilidades como desarrollador front-end y diseñador UX/UI, destacando soluciones únicas y eficientes.
    </p>
  </header>

  <section class="w-full max-w-6xl mx-auto px-10 py-20" aria-label="Listado de proyectos personales">
    <h2 class="text-2xl font-semibold mb-8" id="personal-projects-heading">Proyectos personales</h2>
    <div class="grid md:grid-cols-2 gap-6 items-start">
      {
        data.map((project) => (
          <article class="w-full group" itemscope itemtype="https://schema.org/CreativeWork" aria-labelledby={`project-title-${project.slug}`}>
            <a href={`/proyectos/${project.slug}`} class="w-full max-w-full h-full flex flex-col gap-4" aria-label={`Ver detalles del proyecto ${project.title}`}>
              <picture>
                <source srcset={project.cover} type="image/jpeg" />
                <img
                  src={project.cover}
                  alt={`Imagen de portada del proyecto ${project.title}`}
                  class="w-full min-w-0 max-w-full object-cover border rounded-xl ring-offset-4 border-border motion-safe:transition-all motion-safe:duration-300 group-hover:ring-2 group-hover:ring-foreground/50 ring-offset-background"
                  loading="lazy"
                  decoding="async"
                  width="600"
                  height="400"
                  itemprop="image"
                />
              </picture>
              <div class="flex flex-col items-start gap-2">
                <h2 id={`project-title-${project.slug}`} class="text-2xl font-semibold" itemprop="name">
                  {project.title}
                </h2>
                <p class="text-lg mb-4" itemprop="description">
                  {project.subtitle}
                </p>
              </div>
            </a>
          </article>
        ))
      }
    </div>
  </section>
</Root>
